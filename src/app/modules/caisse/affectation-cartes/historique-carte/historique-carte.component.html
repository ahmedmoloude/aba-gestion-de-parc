<div class="dialog">
  <div class="grid grid-cols-3 gap-4 bg-[#E9E9E9] rounded-[12px_12px_0px_0px] p-4">
    <h2 mat-dialog-title class="col-span-2">Historique de carte NÂ° {{cardNumber || 0}}</h2>
    <div class="text-right cursor-pointer" mat-button mat-dialog-close>
      <mat-icon>close</mat-icon>
    </div>
  </div>
  <div mat-dialog-content>
    <div class="grid grid-cols-1 gap-3 pl-4 pr-4">
      <ng-container *ngIf="carte$ | async as CaisseCarteState">
        <div *ngIf="CaisseCarteState?.mouvementState =='LOADING'" class="flex items-center justify-center mt-6">
          <mat-spinner [diameter]="80"></mat-spinner>
        </div>
        <ng-container *ngIf="CaisseCarteState?.mouvementState == 'SUCCESS'">
          <div *ngIf="CaisseCarteState?.mouvementCaisseCarte?.length <= 0" class="flex flex-col items-center">
            <h2>La liste des Cartes est vide</h2>
          </div>
          <div class="overflow-auto" *ngIf="CaisseCarteState?.mouvementCaisseCarte?.length > 0">
            <table class="w-full text-left text-gray-500">
              <thead>
                <tr>
                  <th *ngFor="let header of headerColumuns" scope="col"
                    class="p-3 text-[#0C8040] font-normal whitespace-nowrap">
                    <div class="flex items-center">
                      {{ header }}
                    </div>
                  </th>
                </tr>
              </thead>
              <tbody>
                <tr class="table-row bg-white whitespace-nowrap border-b border-gray-800"
                  *ngFor="let item of CaisseCarteState?.mouvementCaisseCarte">
                  <td class="p-3">{{(item?.date| date: 'dd/MM/yyyy') || '---'}} </td>
                  <td class="p-3">{{(item?.montant|number) || 0}}</td>
                  <td class="p-3">{{(item?.alimented_by) || '---'}} </td>
                  <td class="p-3">{{(item?.motif) || '---'}}</td>
                </tr>
              </tbody>
            </table>
          </div>
        </ng-container>
        </ng-container>
    </div>
  </div>
