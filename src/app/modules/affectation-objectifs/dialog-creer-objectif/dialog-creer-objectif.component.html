<div class="dialog">
    <div
      class="grid grid-cols-3 gap-4 bg-[#E9E9E9] rounded-[12px_12px_0px_0px] p-4"
    >
      <h2 mat-dialog-title class="col-span-2">Créer un objectif</h2>
      <div class="text-right cursor-pointer" mat-button mat-dialog-close>
        <mat-icon>close</mat-icon>
      </div>
    </div>
    <div mat-dialog-content>
        <p class="text-center"><mat-icon class="text-6xl text-[#E8E8E8]">gps_fixed</mat-icon>
        </p>

        <div *ngIf="spinner" class="flex items-center justify-center mt-6 mb-6">
          <mat-spinner [diameter]="30"></mat-spinner>
        </div>

        <div class="text-center" *ngIf="!spinner">
          <form [formGroup]="createObjectif">
            <mat-form-field appearance="fill" class="w-11/12 mt-5 mb-4">
              <mat-label>Sélectionner un objectif</mat-label>
              <mat-select matNativeControl formControlName="objectif_id">
                <mat-option [value]="objectif.id" *ngFor="let objectif of objectifs">{{ objectif.name }}</mat-option>
              </mat-select>
            </mat-form-field>

            <mat-form-field appearance="fill" class="w-11/12 mt-5 mb-4">
              <mat-label>Année</mat-label>
              <input matInput type="number" min="1900" max="2900" formControlName="annee" minlength="4" />
            </mat-form-field>

            <!-- <mat-form-field appearance="fill" class="w-11/12 mt-5 mb-4">
              <mat-label>Année</mat-label>
              <input matInput [matDatepicker]="dp" formControlName="annee">
              <mat-hint>Année</mat-hint>
              <mat-datepicker-toggle matIconSuffix [for]="dp"></mat-datepicker-toggle>
              <mat-datepicker #dp startView="multi-year" panelClass="example-month-picker"></mat-datepicker>
            </mat-form-field> -->
          </form>
          <!-- <p-calendar [(ngModel)]="date" view="year" dateFormat="yy" inputId="yearpicker"></p-calendar> -->
        </div>
    </div>
    <div class="grid grid-cols-2 gap-4 mt-2 mb-2 p-4">
        <div>
          <button
            class="underline w-32 pt-2 mr-3 font-bold text-[18px]"
            mat-dialog-close
          >
          Abondonner
          </button>
        </div>
        <div class="text-right">
          <!-- <button (click)="addObjectif()" [disabled]="createObjectif.invalid"
              class="bg-[#0C8040] text-[#fff] border-[#0C8040] rounded-[28px] shadow-[0px_3px_6px_#00000029] w-32 p-4 mr-3 font-bold text-[18px]"
          >
          Enregistrer
          </button> -->
          <button 
            [disabled]="createObjectif.invalid"
            (click)="addObjectif()" 
            pButton pRipple 
            type="submit" 
            label="Enregistrer"
            class="p-button-rounded p-button-success">
          </button>
        </div>
      </div>
  </div>