<div class="dialog h-screen overflow-auto bg-[#E9E9E9]">
  <div class="grid grid-cols-3 gap-4 bg-[#E9E9E9] rounded-[12px_12px_0px_0px] pt-4 pl-4 pr-4">
    <h2 mat-dialog-title class="col-span-2 text-[#0C8040]">Historique GPS N° {{ gps.imei_gps }} </h2>
    <div class="text-right cursor-pointer" mat-button mat-dialog-close>
      <mat-icon>close</mat-icon>
    </div>
  </div>

  <div class="flex justify-end">
    <div class="flex cursor-pointer mr-4" (click)="exportExcel()">
      <mat-icon class="pt-[5px]">cloud_download</mat-icon>
      <h2 class="text-[#0C8040] font-semibold pl-2">Exporter</h2>
    </div>
  </div>

  <div *ngFor="let association of gps.associations">
    <div class="mt-5 pl-2">
      <div class="flex">
        <mat-icon class="pt-[3px]">pin_drop</mat-icon>
        <h2 class="font-semibold pl-2" [ngClass]="association.statut == 'ASSOCIE' ? 'text-[#0C8040]' : 'text-[#e10606]'">
          {{ association.statut == 'ASSOCIE' ? "Association" : "Dissociation" }} de véhicule
        </h2>
      </div>
    </div>
    <div>
      <mat-list role="list">
        <mat-list-item class="text-[#B2B2B2]" role="listitem">
          <p class="text-[#B2B2B2]">
            Code véhicule :<span class="text-[#0C8040] pl-1">{{ association.vehicule?.code_interne }}</span>
          </p>
        </mat-list-item>
        <mat-list-item class="text-[#B2B2B2]" role="listitem">
          <p class="text-[#B2B2B2]">
            N° de matricule :<span class="text-[#0C8040] pl-1">{{ association.vehicule?.matricule }}</span>
          </p>
        </mat-list-item>
        <mat-list-item role="listitem">
          <p class="text-[#B2B2B2]">
            Statut : <span class="text-[#0C8040] pl-1">{{ association.vehicule?.last_status?.status }}</span>
          </p>
        </mat-list-item>
        <mat-list-item class="text-[#B2B2B2]" role="listitem">
          <p class="text-[#B2B2B2]">
            Agent :<span class="text-[#0C8040] pl-1">{{ association.agent?.first_name }} {{ association.agent?.last_name }}</span>
          </p>
        </mat-list-item>
        <mat-list-item class="text-[#B2B2B2]" role="listitem">
          <p class="text-[#B2B2B2]">
            Utilisateur :<span class="text-[#0C8040] pl-1">{{ association.user?.name }}</span>
          </p>
        </mat-list-item>
        <mat-list-item role="listitem">
          <div class="flex">
            <mat-icon>date_range</mat-icon>
            <span class="font-normal pl-2 pt-1">
              Le {{ association.date_association | date: 'dd/MM/yyyy' }} {{ association.date_dissociation | date: 'dd/MM/yyyy' }}
            </span>
          </div>
        </mat-list-item>
        <div class="border-b-2 border-[#B2B2B2] mt-4 ml-auto mr-auto w-10/12"></div>
      </mat-list>
    </div>
  </div>
</div>
