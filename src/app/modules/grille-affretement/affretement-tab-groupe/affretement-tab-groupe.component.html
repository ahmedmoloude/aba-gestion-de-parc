<div class="bg-[#fff] shadow-[0px_3px_30px_#00000029] rounded-[20px] ml-6 mr-6 p-6">
  <div class="vehiculetabs">
    <div class="grid grid-cols-1 gap-2">
      <div class="flex col-start-1 col-end-3">
        <mat-icon class="pt-1">local_shipping</mat-icon>
        <h2 class="text-[#0C8040] font-semibold pl-2">
          Grille d'Affrètement
        </h2>
      </div>
    </div>
    <div class="absolute right-10 z-50" *ngIf="permissionService.hasPermission('Gestion commerciale', 'Grille affretement', 'U')">
      <!-- <div *ngIf="selectedTabIndex === 0"> -->


      <div class="flex gap-8 ">
        <button class="text-[#0C8040]" (click)="exporter()">
          <span class="relative top-[5px]"><mat-icon>cloud_download</mat-icon></span>
          Exporter le canvas 
        </button>

        <button class="text-[#0C8040]" [matMenuTriggerFor]="menu">
          <span class="relative top-[5px]"><mat-icon>cloud_upload</mat-icon></span>
          Importer
        </button>

      </div>
       
      <!-- </div> -->
      <!-- <div *ngIf="selectedTabIndex === 1">
        <button class="text-[#0C8040]" [matMenuTriggerFor]="menu">
          <span class="relative top-[5px]"><mat-icon>cloud_upload</mat-icon></span>
          Importer
        </button>
      </div>
      <div *ngIf="selectedTabIndex === 2">
        <button class="text-[#0C8040]" [matMenuTriggerFor]="menu">
          <span class="relative top-[5px]"><mat-icon>cloud_upload</mat-icon></span>
          Importer
        </button>
      </div> -->
    </div>
    <div class="relative tabs-utilisateur">
      <mat-tab-group (selectedTabChange)="tabChanged($event)">
        <mat-tab>
          <ng-template mat-tab-label>Transport</ng-template>
          <app-grille-transport></app-grille-transport>
        </mat-tab>
        <mat-tab>
          <ng-template mat-tab-label>Service Spécifique</ng-template>
          <app-grille-service-specifique></app-grille-service-specifique>
        </mat-tab>
        <mat-tab>
          <ng-template mat-tab-label> Service Standard </ng-template>
          <app-grille-service-standard></app-grille-service-standard>
        </mat-tab>
      </mat-tab-group>
    </div>
  </div>
</div>

<mat-menu #menu="matMenu">
  <div class="p-3" (click)="$event.stopPropagation()">
    <input [(ngModel)]="gridName" type="text" placeholder="Nom de la grille"
      class="block w-full text-sm text-black bg-white rounded-[28px] border-[3px] border-[#DBDBDB] focus:outline-none dark:placeholder-gray-400 p-3 mb-2">
    <input
      class="block w-full text-sm text-black bg-white rounded-[28px] border-[3px] border-[#DBDBDB] cursor-pointer focus:outline-none dark:placeholder-gray-400 p-3 mb-2"
      id="excel_file" type="file"
      accept=".xls,.xlsx, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet,application/vnd.ms-excel"
      (change)="uploadFile($event)" />
    <select *ngIf="selectedTabIndex == 0" (change)="onBaseChange($event)"
      class="block w-full text-sm text-black bg-white rounded-[28px] border-[3px] border-[#DBDBDB] focus:outline-none dark:placeholder-gray-400 p-3">
      <option value="KM">KM</option>
      <option value="DESTINATION">DESTINATION</option>
    </select>
    <div class="grid grid-cols-2 mt-5">
      <!-- <div><button class="underline">Guide</button></div> -->
      <div  *ngIf="!spinner">
        <button (click)="onSubmitForm()" mat-button class="bg-btn-green text-[18px] p-3">
          <span class="text-white ">
            Importer
          </span>
        </button>
      </div>
      <div class="text-right" *ngIf="spinner">
        <mat-spinner [diameter]="18"></mat-spinner>
      </div>
    </div>
  </div>
</mat-menu>
