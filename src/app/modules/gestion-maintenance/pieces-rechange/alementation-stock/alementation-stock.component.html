<div class="dialog">
    <div
      class="grid grid-cols-3 gap-4 bg-[#E9E9E9] rounded-[12px_12px_0px_0px] p-4"
    >
      <h2 mat-dialog-title class="col-span-2">Alimentation de stock “ {{ piece?.name?.name }} {{ piece?.reference }} “</h2>
      <div class="text-right cursor-pointer" mat-button mat-dialog-close>
        <mat-icon>close</mat-icon>
      </div>
    </div>
    <div mat-dialog-content>
      <div class="mb-4">
        <svg class="mx-auto" xmlns="http://www.w3.org/2000/svg" width="153.383" height="138.478" viewBox="0 0 153.383 138.478">
          <g id="Group_9233" data-name="Group 9233" transform="translate(-887.635 -336.456)">
            <path id="icons8-gears" d="M99.212,1a2.394,2.394,0,0,0-2.378,2.126l-.2,1.809a4.791,4.791,0,0,1-3.684,4.122c-.492.119-.991.239-1.473.382A4.781,4.781,0,0,1,86.269,7.7L85.2,6.25A2.388,2.388,0,0,0,82.082,5.6L80.254,6.651a2.384,2.384,0,0,0-1,3.021L80,11.36a4.784,4.784,0,0,1-1.119,5.39c-.363.344-.715.7-1.063,1.063a4.79,4.79,0,0,1-5.4,1.119L70.733,18.2a2.38,2.38,0,0,0-3.021.988l-1.054,1.828a2.4,2.4,0,0,0,.653,3.124l1.455,1.072A4.781,4.781,0,0,1,70.5,30.421c-.138.482-.263.972-.382,1.464A4.791,4.791,0,0,1,66,35.569l-1.809.205a2.377,2.377,0,0,0-2.117,2.369V40.25A2.394,2.394,0,0,0,64.2,42.628l1.809.2a4.78,4.78,0,0,1,4.112,3.684c.119.492.248.991.392,1.473a4.781,4.781,0,0,1-1.735,5.213L67.31,54.266a2.388,2.388,0,0,0-.653,3.115l1.054,1.828a2.4,2.4,0,0,0,3.031,1l1.688-.746a4.784,4.784,0,0,1,5.39,1.119c.344.363.7.715,1.063,1.063A4.79,4.79,0,0,1,80,67.042l-.746,1.688a2.385,2.385,0,0,0,1,3.021l1.828,1.054a2.388,2.388,0,0,0,3.115-.653L86.269,70.7a4.781,4.781,0,0,1,5.213-1.735c.482.138.982.263,1.473.382a4.791,4.791,0,0,1,3.684,4.122l.2,1.809a2.39,2.39,0,0,0,2.378,2.117h2.108a2.394,2.394,0,0,0,2.378-2.126l.2-1.809a4.78,4.78,0,0,1,3.684-4.112c.492-.119.991-.253,1.473-.392a4.781,4.781,0,0,1,5.213,1.735l1.072,1.464a2.388,2.388,0,0,0,3.115.653l1.828-1.054a2.4,2.4,0,0,0,1-3.031l-.746-1.688a4.786,4.786,0,0,1,1.119-5.39c.363-.344.715-.7,1.063-1.063a4.778,4.778,0,0,1,5.39-1.119l1.688.737a2.393,2.393,0,0,0,3.031-.988l1.054-1.828a2.4,2.4,0,0,0-.653-3.124l-1.464-1.072a4.781,4.781,0,0,1-1.734-5.213c.138-.482.272-.972.392-1.464a4.78,4.78,0,0,1,4.112-3.684l1.818-.205a2.377,2.377,0,0,0,2.117-2.369V38.143a2.394,2.394,0,0,0-2.126-2.378l-1.809-.2a4.791,4.791,0,0,1-4.122-3.683c-.119-.492-.239-.991-.382-1.473a4.781,4.781,0,0,1,1.734-5.213l1.455-1.072a2.388,2.388,0,0,0,.653-3.115l-1.054-1.828a2.384,2.384,0,0,0-3.021-1l-1.688.746a4.8,4.8,0,0,1-5.4-1.119c-.344-.363-.7-.715-1.063-1.063a4.778,4.778,0,0,1-1.119-5.39l.746-1.688a2.4,2.4,0,0,0-1-3.031l-1.828-1.054a2.388,2.388,0,0,0-3.115.653L114.254,7.7a4.781,4.781,0,0,1-5.213,1.735c-.482-.138-.982-.272-1.473-.392a4.78,4.78,0,0,1-3.684-4.112l-.2-1.809A2.378,2.378,0,0,0,101.32,1Zm1.054,19.1a19.1,19.1,0,1,1-19.1,19.1A19.1,19.1,0,0,1,100.266,20.1ZM27.594,24.873A2.394,2.394,0,0,0,25.216,27l-.047.476a3.531,3.531,0,0,1-2.592,3.04,23.5,23.5,0,0,0-6.444,2.751,2.432,2.432,0,0,1-2.816-.121l-1-.8a2.39,2.39,0,0,0-3.18.177L7.647,34.012a2.39,2.39,0,0,0-.177,3.18l.8,1a2.431,2.431,0,0,1,.121,2.816,23.522,23.522,0,0,0-2.76,6.444,3.525,3.525,0,0,1-3.04,2.592l-.476.047A2.39,2.39,0,0,0,0,52.466v2.108a2.394,2.394,0,0,0,2.126,2.378L2.6,57a3.537,3.537,0,0,1,3.04,2.592,23.5,23.5,0,0,0,2.751,6.444,2.432,2.432,0,0,1-.121,2.816l-.8,1a2.384,2.384,0,0,0,.177,3.18L9.13,74.521a2.39,2.39,0,0,0,3.18.177l1-.8a2.446,2.446,0,0,1,2.826-.121,23.5,23.5,0,0,0,6.444,2.751,3.515,3.515,0,0,1,2.583,3.04l.056.476a2.4,2.4,0,0,0,2.378,2.126H29.7a2.394,2.394,0,0,0,2.378-2.126l.047-.476a3.531,3.531,0,0,1,2.592-3.04,23.5,23.5,0,0,0,6.444-2.751,2.432,2.432,0,0,1,2.816.121l1,.8a2.384,2.384,0,0,0,3.18-.177l1.492-1.492a2.39,2.39,0,0,0,.177-3.18l-.8-1a2.431,2.431,0,0,1-.121-2.816,23.5,23.5,0,0,0,2.751-6.444A3.525,3.525,0,0,1,54.693,57l.476-.047a2.394,2.394,0,0,0,2.126-2.378V52.466a2.394,2.394,0,0,0-2.126-2.378l-.476-.047a3.531,3.531,0,0,1-3.04-2.592A23.5,23.5,0,0,0,48.9,41.006a2.432,2.432,0,0,1,.121-2.816l.8-1a2.384,2.384,0,0,0-.177-3.18L48.156,32.52a2.39,2.39,0,0,0-3.18-.177l-1,.8a2.431,2.431,0,0,1-2.816.121,23.522,23.522,0,0,0-6.444-2.76,3.514,3.514,0,0,1-2.592-3.031L32.079,27A2.394,2.394,0,0,0,29.7,24.873Zm72.672,4.775a9.549,9.549,0,1,0,9.549,9.549A9.547,9.547,0,0,0,100.266,29.647ZM28.647,39.2A14.324,14.324,0,1,1,14.324,53.52,14.323,14.323,0,0,1,28.647,39.2Zm0,9.549a4.775,4.775,0,1,0,4.775,4.775A4.776,4.776,0,0,0,28.647,48.746ZM86.054,82.168a2.531,2.531,0,0,0-2.266,1.315l-.662,1.184a2.573,2.573,0,0,1-2.7,1.259A25.1,25.1,0,0,0,73,85.851a3.73,3.73,0,0,1-3.758-1.93l-.252-.438a2.519,2.519,0,0,0-3.18-1.11l-2.061.849a2.532,2.532,0,0,0-1.464,3.04l.14.485a3.748,3.748,0,0,1-1.3,4.029,24.927,24.927,0,0,0-5.194,5.3,2.579,2.579,0,0,1-2.8,1.035l-1.306-.382a2.528,2.528,0,0,0-3.04,1.464l-.858,2.061a2.53,2.53,0,0,0,1.119,3.18l1.194.662a2.58,2.58,0,0,1,1.259,2.7,25.093,25.093,0,0,0-.084,7.423,3.737,3.737,0,0,1-1.921,3.767l-.438.242a2.523,2.523,0,0,0-1.119,3.18l.858,2.061a2.532,2.532,0,0,0,3.04,1.464l.476-.14a3.748,3.748,0,0,1,4.029,1.3,24.97,24.97,0,0,0,5.306,5.194,2.574,2.574,0,0,1,1.026,2.8l-.373,1.306a2.525,2.525,0,0,0,1.455,3.04l2.061.858a2.543,2.543,0,0,0,3.189-1.119l.653-1.184a2.58,2.58,0,0,1,2.7-1.259,25.158,25.158,0,0,0,7.432.075,3.73,3.73,0,0,1,3.758,1.93l.242.438a2.535,2.535,0,0,0,3.189,1.119l2.061-.858a2.527,2.527,0,0,0,1.455-3.04l-.131-.485a3.748,3.748,0,0,1,1.3-4.029,24.882,24.882,0,0,0,5.185-5.3,2.588,2.588,0,0,1,2.807-1.026l1.306.373a2.528,2.528,0,0,0,3.04-1.464l.858-2.061a2.525,2.525,0,0,0-1.119-3.18l-1.194-.653a2.58,2.58,0,0,1-1.259-2.7,25.094,25.094,0,0,0,.084-7.423,3.737,3.737,0,0,1,1.921-3.767l.438-.242a2.535,2.535,0,0,0,1.119-3.189L104,98.179a2.523,2.523,0,0,0-3.04-1.464l-.485.14a3.748,3.748,0,0,1-4.029-1.3,24.928,24.928,0,0,0-5.3-5.194,2.579,2.579,0,0,1-1.035-2.8l.382-1.306a2.528,2.528,0,0,0-1.464-3.04l-2.061-.858A2.536,2.536,0,0,0,86.054,82.168ZM76.393,96.491a14.324,14.324,0,1,1-14.324,14.324A14.323,14.323,0,0,1,76.393,96.491Zm0,9.549a4.775,4.775,0,1,0,4.775,4.775A4.776,4.776,0,0,0,76.393,106.04Z" transform="translate(894.405 335.456)" fill="#e8e8e8"/>
            <path id="icons8-engine" d="M20.413,3a1.458,1.458,0,1,0,0,2.916h2.916V7.374H27.7V5.916h2.916a1.458,1.458,0,1,0,0-2.916Zm-3.167,7.29a2.917,2.917,0,0,0-2.062.854l-4.978,4.978H8.748A1.459,1.459,0,0,0,7.29,17.58V30.7a1.459,1.459,0,0,0,1.458,1.458h1.458l3.52,3.52a2.917,2.917,0,0,0,2.062.854H27.953a2.917,2.917,0,0,0,2.062-.854L35.594,30.1a2.914,2.914,0,0,0,.857-2.062V13.206a2.915,2.915,0,0,0-2.916-2.916ZM42.26,14.644a1.458,1.458,0,0,0-1.435,1.478v2.916H39.367v5.832h1.458v2.916a1.458,1.458,0,1,0,2.916,0V16.122a1.458,1.458,0,0,0-1.481-1.478Zm-18.932.02a1.459,1.459,0,0,1,1.458,1.458v5.832H27.7a1.459,1.459,0,0,1,1.458,1.458,1.571,1.571,0,0,1-.205.749L24.607,31.4a1.6,1.6,0,0,1-1.279.763A1.459,1.459,0,0,1,21.871,30.7V24.871H18.955A1.459,1.459,0,0,1,17.5,23.413a2.027,2.027,0,0,1,.268-.809L22,15.519A1.875,1.875,0,0,1,23.329,14.664ZM1.435,17.56A1.458,1.458,0,0,0,0,19.038V30.7a1.458,1.458,0,1,0,2.916,0V27.787H4.374V21.954H2.916V19.038A1.458,1.458,0,0,0,1.435,17.56Z" transform="translate(887.636 419.027)" fill="#e8e8e8"/>
            <path id="icons8-jet_engine" d="M19.039,2A17.039,17.039,0,1,0,36.079,19.039,17.057,17.057,0,0,0,19.039,2Zm0,3.7A13.335,13.335,0,1,1,5.7,19.039,13.335,13.335,0,0,1,19.039,5.7Zm.671,1.5a21.8,21.8,0,0,0-1.389,7.455,4.534,4.534,0,0,1,.718-.069,4.438,4.438,0,0,1,.764.069,19.386,19.386,0,0,1,1.435-7.27A11.538,11.538,0,0,0,19.711,7.209Zm-3.1.232a11.568,11.568,0,0,0-1.482.417A21.816,21.816,0,0,0,16.7,15.266a4.324,4.324,0,0,1,1.366-.556A19.376,19.376,0,0,1,16.609,7.441Zm7.571.926a21.729,21.729,0,0,0-4.121,6.343,4.371,4.371,0,0,1,1.366.579,19.326,19.326,0,0,1,4.1-6.158A11.558,11.558,0,0,0,24.179,8.367Zm-11.807.88a12.066,12.066,0,0,0-1.227.972,21.79,21.79,0,0,0,4.283,6.228A4.494,4.494,0,0,1,16.493,15.4,19.378,19.378,0,0,1,12.372,9.246Zm15.488,1.9a21.79,21.79,0,0,0-6.228,4.283,4.494,4.494,0,0,1,1.042,1.065,19.325,19.325,0,0,1,6.158-4.121A12.066,12.066,0,0,0,27.86,11.145ZM9.131,12.557A11.558,11.558,0,0,0,8.367,13.9a21.771,21.771,0,0,0,6.343,4.121,4.371,4.371,0,0,1,.579-1.366A19.326,19.326,0,0,1,9.131,12.557Zm21.091,2.57A21.816,21.816,0,0,0,22.813,16.7a4.393,4.393,0,0,1,.556,1.366,19.376,19.376,0,0,1,7.27-1.459A11.568,11.568,0,0,0,30.222,15.127Zm-11.182.949A2.963,2.963,0,1,0,22,19.039,2.962,2.962,0,0,0,19.039,16.076ZM7.394,16.84a11.538,11.538,0,0,0-.185,1.528,21.805,21.805,0,0,0,7.455,1.389,4.534,4.534,0,0,1-.069-.718,4.439,4.439,0,0,1,.069-.764A19.386,19.386,0,0,1,7.394,16.84Zm16.021,1.482a4.534,4.534,0,0,1,.069.718,4.439,4.439,0,0,1-.069.764,19.386,19.386,0,0,1,7.27,1.435,11.539,11.539,0,0,0,.185-1.528A21.877,21.877,0,0,0,23.415,18.322Zm-8.7,1.69a19.376,19.376,0,0,1-7.27,1.459,11.7,11.7,0,0,0,.417,1.482,21.923,21.923,0,0,0,7.408-1.574A4.422,4.422,0,0,1,14.71,20.012Zm8.659.046a4.44,4.44,0,0,1-.579,1.366,19.326,19.326,0,0,1,6.158,4.1,11.558,11.558,0,0,0,.764-1.343A21.771,21.771,0,0,0,23.369,20.058ZM15.4,21.586a19.273,19.273,0,0,1-6.158,4.121,12.066,12.066,0,0,0,.972,1.227,21.728,21.728,0,0,0,6.228-4.283A4.494,4.494,0,0,1,15.4,21.586Zm7.246.046a4.494,4.494,0,0,1-1.065,1.042,19.273,19.273,0,0,1,4.121,6.158,12.393,12.393,0,0,0,1.227-.972A21.705,21.705,0,0,0,22.651,21.632Zm-6,1.158a19.326,19.326,0,0,1-4.1,6.158,11.558,11.558,0,0,0,1.343.764,21.729,21.729,0,0,0,4.121-6.343A4.44,4.44,0,0,1,16.655,22.79Zm4.723.023a4.325,4.325,0,0,1-1.366.556,19.376,19.376,0,0,1,1.459,7.27,11.568,11.568,0,0,0,1.482-.417A21.816,21.816,0,0,0,21.378,22.813Zm-3.1.6a19.386,19.386,0,0,1-1.435,7.27,11.539,11.539,0,0,0,1.528.185,21.8,21.8,0,0,0,1.389-7.455,4.534,4.534,0,0,1-.718.069A4.439,4.439,0,0,1,18.275,23.415Z" transform="translate(1004.94 414.05)" fill="#e8e8e8"/>
          </g>
        </svg>
      </div>
      <form [formGroup]="recharge">
        <div class="grid grid-cols-2 gap-3 pl-4 pr-4 mt-4">
          <div>
            <i-field [type]="'text'" [label]="'Quantité'" formControlName="quantite"></i-field>
          </div>
          <div>
            <i-field [type]="'text'" [label]="'Prix unitaire'" formControlName="prix_unitaire"></i-field>
          </div>
        </div>
        <div class="grid grid-cols-2 gap-3 pl-4 pr-4 mt-4">
            <div>
              <i-field [type]="'text'" [label]="'Monrtant HT'" formControlName="montant_ht" disabled="true"></i-field>
            </div>
            <div>
              <i-field [type]="'text'" [label]="'TVA'" formControlName="tva" disabled="true"></i-field>
            </div>
          </div>
        <div class="grid grid-cols-2 gap-3 pl-4 pr-4 mt-4">
            <div>
                <i-field [type]="'text'" [label]="'Montant TTC'" formControlName="montant_ttc" disabled="true"></i-field>
            </div>
          <div>
            <mat-form-field appearance="fill" class="w-[100%] mb-4">
              <mat-label>Fournisseur</mat-label>
              <mat-select matNativeControl formControlName="prestataire_id">
                <mat-option *ngFor="let prestataire of prestataires" [value]="prestataire.id">{{ prestataire.name }}</mat-option>
              </mat-select>
            </mat-form-field>
          </div>
        </div>
        <div class="grid grid-cols-2 gap-3 pl-4 pr-4 mt-4">
          <div>
            <!-- <i-field [type]="'text'" [label]="'Pièce jointe'"></i-field>  -->
            <input
            class="block w-full text-sm text-black bg-white border-[2px] border-[#DBDBDB] cursor-pointer focus:outline-none dark:placeholder-gray-400 p-3"
            type="file"
            accept="image/jpeg,image/gif,image/png,application/pdf,image/x-eps"
            (change)="onSelectImagePiece($event)"
          />
          </div>
        </div>
        <div class="grid grid-cols-2 gap-4 mt-2 mb-2 p-4">
          <div>
            <button
              class="underline w-32 p-4 mr-3 font-bold text-[18px]"
              mat-dialog-close
            >
              Annuler
            </button>
          </div>
          <div class="text-right">
            <button [disabled]="recharge.invalid" *ngIf="!spinner"
              class="bg-[#0C8040] text-[#fff] border-[#0C8040] rounded-[28px] shadow-[0px_3px_6px_#00000029] w-32 p-4 mr-3 font-bold text-[18px]"
              (click)="recharger()">Recharger
            </button>
            <span *ngIf="spinner">
              <mat-spinner [diameter]="40"></mat-spinner>
            </span>
          </div>
        </div>
      </form>
    </div>
  </div>
